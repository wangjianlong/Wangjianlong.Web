@{ 
    Layout = null;
    Position position = ViewBag.Model;
}

<div class="alert alert-success" role="alert">
    <span>@string.Format("{0}添加项目",position.Name)</span>
</div>

<div class="form-group">
    <label class="control-label">&nbsp;关键字:</label>
    <div class="col-md-12">
        <input type="text" name="Key" placeholder="请输入缩写或者项目关键字"  class="form-control" onkeyup="ShowResult(this.value)"/>
    </div>
</div>
<div class="form-group">
    <label class="control-label">&nbsp;项目：</label>
    <div class="col-md-12">
        <div class="list-group" id="OUT">
            <button type="button" class="list-group-item" name="Add">缩写：zbq62-sz； 全称：座便器；单价：1200元/个</button>
        </div>
    </div>
</div>


<script>
    function ShowResult(key) {
        console.log(key);
        var result = $("#OUT");
        $.getJSON("/Project/Search?key=" + key, null, function (data) {
            result.empty();
            $.each(data, function (key, val) {
                console.log(val.Name);
                result.append(' <button type="button" class="list-group-item">缩写：'+val.Title+'； 全称：'+val.Name+'；单价：'+val.Price+'元/'+val.Unit+'</button>')
            });
            $("button[type='button'][name='Add']").unbind("click").bind("click", function () {

            });
        });
    }
</script>